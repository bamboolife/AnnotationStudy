# Annotation学习和研究

## 现在好多第三方框架都在使用注解的方式来实现。既然都在使用肯定有一定的优势，所以就来研究下，注解的好处和优势。为什么大家都在使用
## 此工程只用来学习、研究和笔记的记录和网上资源的整理

### 优势
- 我们平常在使用Java进行开发Android时，经常会需要写很多重复冗余的样板代码，开发中最常见的一种，就是findViewById了，如果一个界面有很多View，写起来那叫一个要死要死。于是我们注解处理器可以帮助解决冗余的代码的，
- 由于是在编译器进行生成的代码，并不是通过反射实现，所以性能优势是非常高的
- 加快开发速度，由于减少了写繁琐的代码，会对项目进度起有利的作用

### 注解原理

在android开发中，比较常用到的第三方库中，有不少用到了 注解处理器(Annotation Processor)。 比较常见的就有 Butterknife，Dagger2，DBFlow 等。

### 注解

Java中存在不少关于注解的Api, 比如@Override用于覆盖父类方法，@Deprecated表示已舍弃的类或方法属性等，android中又多了一些注解的扩展，如@NonNull, @StringRes, @IntRes等。

### 代码自动生成

使用代码自动生成，一是为了提高编码的效率，二是避免在运行期大量使用反射，通过在编译期利用反射生成辅助类和方法以供运行时使用。

#### 注解处理器的处理步骤主要有以下：
1. 在java编译器中构建
2. 编译器开始执行未执行过的注解处理器
3. 循环处理注解元素(Element)，找到被该注解所修饰的类，方法，或者属性
4. 生成对应的类，并写入文件
5. 判断是否所有的注解处理器都已执行完毕，如果没有，继续下一个注解处理器的执行(回到步骤1)

![image](https://github.com/bamboolife/AnnotationStudy/blob/master/image/annotation_flow.png)
